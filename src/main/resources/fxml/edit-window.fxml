<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.Group?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ColorPicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.paint.Color?>

<AnchorPane prefHeight="400.0" prefWidth="600.0" stylesheets="@../css/edit-window.css" xmlns="http://javafx.com/javafx/18" xmlns:fx="http://javafx.com/fxml/1" fx:controller="top.remake.controller.EditWindowController">
    <children>
        <BorderPane prefHeight="200.0" prefWidth="200.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <bottom>
                <HBox id="toolbar" alignment="CENTER" fillHeight="false" maxHeight="-Infinity" minHeight="-Infinity" prefHeight="35.0" spacing="10.0" BorderPane.alignment="CENTER">
                    <children>
                        <Button mnemonicParsing="false" onAction="#undo">
                            <graphic>
                                <ImageView fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image backgroundLoading="true" url="@../image/btn-undo.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Label text="画笔粗细" />
                        <Slider fx:id="brushWidth" max="15.0" min="1.0" value="5.0" />
                        <Button fx:id="btnPencil" mnemonicParsing="false">
                            <graphic>
                                <ImageView fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image backgroundLoading="true" url="@../image/icon-pencil.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Button fx:id="btnLine" mnemonicParsing="false">
                            <graphic>
                                <ImageView fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image backgroundLoading="true" url="@../image/icon-line.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Button fx:id="btnRectangle" mnemonicParsing="false">
                            <graphic>
                                <ImageView fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image backgroundLoading="true" url="@../image/icon-rectangle.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Button fx:id="btnCircle" mnemonicParsing="false">
                            <graphic>
                                <ImageView fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image backgroundLoading="true" url="@../image/icon-circle.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <ColorPicker fx:id="colorPicker">
                            <value>
                                <Color red="1.0" />
                            </value>
                        </ColorPicker>
                        <Button mnemonicParsing="false" onAction="#save">
                            <graphic>
                                <ImageView fitWidth="24.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image backgroundLoading="true" url="@../image/btn-save.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                    </children>
                </HBox>
            </bottom>
            <center>
                <StackPane fx:id="imagePane" BorderPane.alignment="CENTER">
                    <children>
                        <Group fx:id="canvasGroup">
                            <children>
                                <ImageView fx:id="imageView" onMouseDragged="#onMouseDragged" onMouseEntered="#onMouseEntered" onMouseExited="#onMouseExited" onMousePressed="#onMousePressed" pickOnBounds="true" preserveRatio="true" />
                            </children>
                        </Group>
                    </children>
                </StackPane>
            </center>
        </BorderPane>
    </children>
</AnchorPane>
